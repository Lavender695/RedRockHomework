<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lv2</title>

    <style>
        input {
            width: 99%;
            height: 90px;
            margin: 5px;
        }

        .empty {
            text-align: center;
            font: 14px;
            color: gray;
        }
    </style>
</head>

<body>
    <div class="title">
        <span>评论（</span>
        <span id="counter">0</span>
        <span>）</span>
    </div>
    <input type="text">
    <button id="submit" onclick="addComment()">评论</button>

    <div class="commentSection">
        <div class="empty">还没有评论，快来抢沙发~</div>
        <!--新评论会插入这里-->
    </div>

    <script>
        //获取用户输入内容
        const button = document.querySelector('#submit')
        const counter = document.querySelector('.title #counter')
        const empty = document.querySelector('.empty')

        function addComment() {
            //获取评论区容器
            let commentSection = document.querySelector('.commentSection')

            //检查评论区是否为空
            let note = document.getElementsByClassName('empty')[0]
            if (note) {
                commentSection.removeChild(note)
            }

            //创建一个新的评论元素容器，需要包括用户名、头像、评论文本
            let newCommentBox = document.createElement('div')
            newCommentBox.style.display = 'flex'
            newCommentBox.style.margin = '20px'

            //创建一个新的容器2，只放用户名和评论文本
            let newBox = document.createElement('div')


            //创建一个新的评论文本元素
            let newComment = document.createElement('div')

            //添加头像到评论元素容器中
            let portrait = document.createElement('div')
            portrait.style.background = 'grey'
            portrait.style.width = '30px'
            portrait.style.height = '30px'
            portrait.style.borderRadius = '15px'
            portrait.style.margin = '5px'
            newCommentBox.appendChild(portrait)

            //添加用户名到容器2中
            let name = document.createElement('div')
            name.textContent = '匿名用户'
            newBox.appendChild(name)

            //获取用户输入内容，并将评论文本元素添加到评论元素容器中，并清空输入框
            let commentText = document.querySelector('input[type="text"]')
            newComment.textContent = commentText.value
            newBox.appendChild(newComment)
            commentText.value = ''

            //将容器2添加到评论元素容器中
            newCommentBox.appendChild(newBox)

            //将评论元素容器添加到评论区中
            commentSection.appendChild(newCommentBox)
            counter.textContent = parseInt(counter.textContent) + 1
        }

    </script>
</body>

</html>